<% if(group_ids.length == 0) %>
    if (window.showNotification) {
      window.showNotification('<%="Remove Selected Failed: You did not select any groups."%>', 'error');
    } else {
      alert('<%="Remove Selected Failed: You did not select any groups."%>');
    }

<% elsif permissioned.length == 0 %>
    if (window.showNotification) {
      window.showNotification('<%="You do not have permission to remove members from any of the selected groups."%>', 'error');
    } else {
      alert('<%="You do not have permission to remove members from any of the selected groups."%>');
    }

<% else %>
    <% success_str = ""; %>
    <% if present.length == 1 %>
        <% success_str << "#{class_name} was removed from 1 group. " %>   
    <% elsif present.length > 1 %>
        <% success_str << "#{class_name} was removed from #{present.length} groups. " %>
    <% end %>

    <% if unpresent.length == 1 %>
        <% success_str << "#{class_name} was not removed from 1 group because it was not there to begin with. " %>
    <% elsif unpresent.length > 1 %>
        <% success_str << "#{class_name} was not removed from #{unpresent.length} groups because it was not there to begin with. " %>    
    <% end %>

    <% if wrong_types.length == 1 %>
        <% success_str << "#{class_name} was not removed from 1 group because it was of the wrong type. " %>
    <% elsif wrong_types.length > 1 %>
        <% success_str << "#{class_name} was not removed from #{wrong_types.length} groups because they were of the wrong type. " %>
    <% end %>

    <% if unpermissioned.length == 1 %>
        <% success_str << "#{class_name} was not removed from 1 group because you did not have permission to update this group. " %>
    <% elsif unpermissioned.length > 1 %>
        <% success_str << "#{class_name} was not removed from #{unpermissioned.length} groups because you did not have permission to update these groups. " %>
    <% end %>

    // ActionCable will handle table updates automatically
    action_select_no_js();
    if (window.showNotification) {
      window.showNotification('<%= success_str %>', 'success');
    } else {
      alert('<%= success_str %>');
    }
<% end %>
unwait();
