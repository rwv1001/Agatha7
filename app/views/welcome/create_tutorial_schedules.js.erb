<% if ids.length > 0  %>
<%   table_name = "Person" %>
<%   search_ctl = search_ctls[table_name] %>
<%   eval("#{table_name}.set_controller(search_ctl)"); %>
<%   updated_objects = search_ctl.GetUpdateObjects(table_name, "id", ids); %>
<%   updated_objects.each do |row| %>
     var el = document.getElementById("<%="#{row.id}_#{table_name}"%>");
     if (el) {
       var tempDiv = document.createElement('div');
       tempDiv.innerHTML = "<%= j render(:partial => 'shared/search_results_row_button', :object => row) %>";
       el.parentNode.replaceChild(tempDiv.firstElementChild, el);
       setcheck('<%="#{table_name}_check_#{row.id.to_s}"%>', true);
     }
<%   end %>
     recolour('Person');
     action_select_no_js(); 
<% end %>
   alert('<%="#{alert_str}"%>');
   unwait();
