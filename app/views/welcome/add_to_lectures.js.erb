<% if error_str.length > 0 %>
if (window.showNotification) {
  window.showNotification('<%="#{error_str}"%>', 'error');
} else {
  alert('<%="#{error_str}"%>');
}
<% else %>
// Success! ActionCable will handle all row updates across tabs
// No need to manually update rows here to avoid race conditions
if (window.showNotification) {
  window.showNotification('<%="#{success_str}"%>', 'success');
} else {
  alert('<%="#{success_str}"%>');
}
<% end %>

unwait();
