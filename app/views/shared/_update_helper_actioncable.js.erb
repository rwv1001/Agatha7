// Update the edited cell in the current edit form
<% if edit_cell1.attribute %>
(function(){
  const id1 = "<%= "#{@table_name}_#{field_name}" %>";
  const el1 = document.getElementById(id1);
  if (el1) {
    el1.outerHTML = "<%= j render(partial: 'shared/edit_cell', object: edit_cell1) %>";
  }
})();
<% end %>

<% if edit_cell2.attribute %>
(function(){
  const id2 = "<%= "#{@table_name}_updated_at" %>";
  const el2 = document.getElementById(id2);
  if (el2) {
    el2.outerHTML = "<%= j render(partial: 'shared/edit_cell', object: edit_cell2) %>";
  }
})();
<% end %>

// ActionCable will handle broadcasting updates to all search tables automatically
// No need for the complex window.opener logic anymore
console.log('Update completed - ActionCable broadcasting to all users');
